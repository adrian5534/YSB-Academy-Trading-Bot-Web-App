/* =========================
   Dashboard panels (LiveChart + TradeHistory)
   - Same height
   - Side-by-side on larger screens (layout handled in Dashboard.tsx via .dashboard-panels grid)
   ========================= */

/* Shared panel height so LiveChart and TradeHistory match */
.dashboard-panels {
  --dash-panel-h: 320px; /* phones */
}

@media (min-width: 576px) {
  .dashboard-panels {
    --dash-panel-h: 360px;
  }
}

@media (min-width: 768px) {
  .dashboard-panels {
    --dash-panel-h: 400px;
  }
}

@media (min-width: 992px) {
  .dashboard-panels {
    --dash-panel-h: 440px;
  }
}

@media (min-width: 1200px) {
  .dashboard-panels {
    --dash-panel-h: 480px;
  }
}

/* Apply same height to both cards */
.dashboard-panels .live-chart,
.dashboard-panels .trade-history {
  height: var(--dash-panel-h);
}

/* LiveChart plot fills available space */
.dashboard-panels .live-chart {
  display: flex;
  flex-direction: column;
}

.dashboard-panels .live-chart__plot {
  flex: 1;
  min-height: 0; /* allows the child to shrink for proper flex sizing */
}

/* TradeHistory scroll area fills available space */
.dashboard-panels .trade-history {
  display: flex;
  flex-direction: column;
}

.dashboard-panels .trade-history__body {
  flex: 1;
  min-height: 0;
  overflow: auto; /* vertical + horizontal */
}

/* Optional: keep table header visible while scrolling */
.dashboard-panels .trade-history thead th {
  position: sticky;
  top: 0;
  background: hsl(222 47% 11%);
  z-index: 1;
}

/* =========================
   StatCard responsive tweaks
   ========================= */

.stat-card {
  padding: 12px; /* smaller on phones */
  min-height: 110px; /* keeps cards visually consistent */
}

@media (min-width: 576px) {
  .stat-card {
    padding: 14px;
    min-height: 118px;
  }
}

@media (min-width: 768px) {
  .stat-card {
    padding: 16px;
    min-height: 126px;
  }
}

/* Title: avoid wrapping weirdly */
.stat-card__title {
  max-width: 80%;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Value: fluid font size + no overflow */
.stat-card__value {
  font-size: clamp(1.15rem, 2.2vw, 1.6rem);
  line-height: 1.15;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Meta: keep on one line if possible */
.stat-card__meta {
  display: flex;
  align-items: center;
  gap: 6px;
  white-space: nowrap;
}

/* Make the icon a consistent size */
.stat-card__icon svg {
  width: 16px;
  height: 16px;
}

@media (min-width: 992px) {
  .stat-card__icon svg {
    width: 18px;
    height: 18px;
  }
}

/* =========================
   <= 576px fixes
   - StatCards: 2 columns
   - Panels: prevent horizontal overflow/cutoff
   ========================= */

/* CRITICAL: allow grid children to shrink instead of overflowing to the right */
.dashboard-panels > *,
.dashboard-stats > * {
  min-width: 0;
}

/* Ensure panels never exceed viewport width */
.live-chart,
.trade-history {
  max-width: 100%;
  overflow: hidden; /* keeps rounded corners; inner body still scrolls */
}

/* Chart area should not create horizontal overflow */
.live-chart__plot {
  overflow: hidden;
}

/* Phones: show stat cards in 2 columns (force override vs Tailwind grid-cols-1) */
@media (max-width: 575.98px) {
  .dashboard-stats {
    grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
  }

  .stat-card {
    padding: 10px;
    min-height: 96px;
  }

  .stat-card__value {
    font-size: 1.05rem;
  }
}